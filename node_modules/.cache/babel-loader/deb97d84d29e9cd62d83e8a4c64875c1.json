{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/marcosandaluzderosas/Desktop/NuclioDigitalSchool/Picturest/picturestRichard/picturestReact/src/components/loginForm/loginForm.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport \"../loginForm/loginForm.css\";\nimport { Link } from \"react-router-dom\";\n\nconst LogInForm = () => {\n  _s();\n\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [error, setError] = useState(false);\n  const history = useHistory(); //JSON.parse(localStorage).getItem(\"user\")\n\n  const body = {\n    email: email,\n    password: password\n  };\n\n  const handleLogin = () => {\n    const options = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    };\n    fetch(\"http://localhost:5001/login\", options).then(response => response.json()).then(json => {\n      localStorage.setItem(\"token\", json.token);\n      localStorage.setItem(\"user\", JSON.stringify(json.user));\n      history.push(\"/user\");\n      history.go(0);\n    }).catch(error => {\n      setError(true);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login__container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form__container\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form__label\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Enter your email here...\",\n          className: \"form__input\",\n          type: \"text\",\n          name: \"email\",\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form__label\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Enter your password here...\",\n          className: \"form__input\",\n          type: \"password\",\n          name: \"password\",\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error__message\",\n          children: \"Something went wrong....\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login__button\",\n          onClick: handleLogin,\n          children: \"Login!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Not registered? register\", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/register\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"here!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LogInForm, \"q9wFkw3k+AQ2VDO815zw072fJcI=\", false, function () {\n  return [useHistory];\n});\n\n_c = LogInForm;\nexport default LogInForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LogInForm\");","map":{"version":3,"sources":["/Users/marcosandaluzderosas/Desktop/NuclioDigitalSchool/Picturest/picturestRichard/picturestReact/src/components/loginForm/loginForm.js"],"names":["useState","useHistory","Link","LogInForm","email","setEmail","password","setPassword","error","setError","history","body","handleLogin","options","method","headers","JSON","stringify","fetch","then","response","json","localStorage","setItem","token","user","push","go","catch","e","target","value"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport \"../loginForm/loginForm.css\";\nimport { Link } from \"react-router-dom\";\n\nconst LogInForm = () => {\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [error, setError] = useState(false);\n  const history = useHistory();\n\n  //JSON.parse(localStorage).getItem(\"user\")\n\n  const body = {\n    email: email,\n    password: password,\n  };\n\n  const handleLogin = () => {\n    const options = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(body),\n    };\n    fetch(\"http://localhost:5001/login\", options)\n      .then((response) => response.json())\n      .then((json) => {\n        localStorage.setItem(\"token\", json.token);\n        localStorage.setItem(\"user\", JSON.stringify(json.user));\n\n        history.push(\"/user\");\n        history.go(0);\n      })\n      .catch((error) => {\n        setError(true);\n      });\n  };\n  return (\n    <div className=\"login__container\">\n      <form>\n        <div className=\"form__container\">\n          <label className=\"form__label\">Email</label>\n          <input\n            placeholder=\"Enter your email here...\"\n            className=\"form__input\"\n            type=\"text\"\n            name=\"email\"\n            onChange={(e) => setEmail(e.target.value)}\n          />\n\n          <label className=\"form__label\">Password</label>\n          <input\n            placeholder=\"Enter your password here...\"\n            className=\"form__input\"\n            type=\"password\"\n            name=\"password\"\n            onChange={(e) => setPassword(e.target.value)}\n          />\n          {error && <p className=\"error__message\">Something went wrong....</p>}\n          <div className=\"login__button\" onClick={handleLogin}>\n            Login!\n          </div>\n          <span>\n            Not registered? register\n            <Link to=\"/register\">\n              <div>here!</div>\n            </Link>\n          </span>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default LogInForm;\n"]},"metadata":{},"sourceType":"module"}